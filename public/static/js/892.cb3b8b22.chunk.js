"use strict";(self.webpackChunkrick_react_two=self.webpackChunkrick_react_two||[]).push([[892],{7892:function(e,r,n){n.r(r),n.d(r,{default:function(){return Z}});var t=n(1413),s=n(4165),a=n(5861),i=n(885),c=n(8586),l=n(9434),o=n(1134),u=n(5733),d=n(2791),p=n(7406),f=n(7265),m={query:function(){return h.apply(this,arguments)}};function h(){return h=(0,a.Z)((0,s.Z)().mark((function e(){var r,n,t=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:{},e.prev=1,e.next=4,f.Rc.post(p.iI.default,r);case 4:if("ok"!==(n=e.sent).status){e.next=9;break}return e.abrupt("return",n.content);case 9:return e.abrupt("return",new Error("Cannot get countries"));case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),h.apply(this,arguments)}var x=n(7480),v=n(1917),j=n(3329),b=d.forwardRef((function(e,r){var n=e.text,t=e.items,s=e.accessor,a=e.onChange,c=(0,d.useState)(n),l=(0,i.Z)(c,2),o=l[0],u=l[1];(0,d.useEffect)((function(){u(n)}),[n]);return(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(v.Z.Toggle,{variant:"secondary",id:"dropdown-basic",ref:r,children:o}),(0,j.jsx)(v.Z.Menu,{children:t.map((function(e,r){return(0,j.jsx)(v.Z.Item,{onClick:function(){return function(e){u(e[s]),a(e)}(e)},children:e[s]},r)}))})]})})),Z=function(){var e=(0,l.v9)((function(e){return e.user})).currentUser,r=(0,d.useState)([]),n=(0,i.Z)(r,2),p=n[0],f=n[1],h=(0,l.I0)(),v=(0,o.cI)({defaultValues:{fullname:(null===e||void 0===e?void 0:e.fullname)||"",username:(null===e||void 0===e?void 0:e.username)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",countryPreferences:{}}}),Z=v.register,y=v.handleSubmit,_=v.control;(0,d.useEffect)((function(){N()}),[]);var N=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.query();case 3:r=e.sent,f(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.Z.error("Cannot get countries",{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var r=(0,a.Z)((0,s.Z)().mark((function r(n){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.countryPreferences=[n.countryPreferences],r.prev=1,r.next=4,(0,u.Nq)(h,(0,t.Z)((0,t.Z)({},n),{},{_id:e._id}));case 4:x.Z.success("User updated",{position:"top-center"}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),x.Z.error("Cannot update user",{position:"top-center"});case 10:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e){return r.apply(this,arguments)}}();return(0,j.jsxs)("div",{className:"body-wrapper space-pb--120 backgrounds__white-top ",children:[(0,j.jsx)(c.aG,{pageTitle:"Edit Profile"}),(0,j.jsx)("div",{className:"edit-profile-body",children:(0,j.jsx)("div",{className:"container",children:(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-12",children:(0,j.jsx)("div",{className:"edit-profile-form",children:(0,j.jsxs)("form",{onSubmit:y(w),children:[(0,j.jsxs)("div",{className:"edit-profile-form__single-field space-mb--30",children:[(0,j.jsx)("label",{htmlFor:"fullname",children:"Full Name"}),(0,j.jsx)("input",(0,t.Z)({type:"text",name:"fullname",id:"fullname",placeholder:"Enter Full Name"},Z("fullname")))]}),(0,j.jsxs)("div",{className:"edit-profile-form__single-field space-mb--30",children:[(0,j.jsx)("label",{htmlFor:"username",children:"User Name"}),(0,j.jsx)("input",(0,t.Z)({type:"text",name:"username",id:"username",placeholder:"Enter User Name"},Z("username")))]}),(0,j.jsxs)("div",{className:"edit-profile-form__single-field space-mb--30",children:[(0,j.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,j.jsx)("input",(0,t.Z)({type:"text",name:"phone",id:"phone",placeholder:"Enter Phone Number"},Z("phone")))]}),(0,j.jsxs)("div",{className:"edit-profile-form__single-field space-mb--30",children:[(0,j.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,j.jsx)("input",(0,t.Z)({type:"text",name:"email",id:"email",placeholder:"Enter Email Address"},Z("email")))]}),(0,j.jsxs)("div",{className:"edit-profile-form__single-field space-mb--30",children:[(0,j.jsx)("label",{htmlFor:"email",children:"Country Preferences"}),(0,j.jsx)(o.Qr,{name:"countryPreferences",control:_,render:function(r){var n,s=r.field;return(0,j.jsx)(b,(0,t.Z)((0,t.Z)({},s),{},{text:e.countryPreferences.length&&(null===(n=e.countryPreferences[0])||void 0===n?void 0:n.name)||"Select country",items:p,accessor:"name"}))}})]}),(0,j.jsx)("button",{className:"edit-profile-form__button",children:"Update"})]})})})})})})]})}}}]);
//# sourceMappingURL=892.cb3b8b22.chunk.js.map