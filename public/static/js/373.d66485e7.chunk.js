"use strict";(self.webpackChunkrick_react_two=self.webpackChunkrick_react_two||[]).push([[373],{4503:function(e,t,n){var r=n(3329);t.Z=function(e){var t=e.onClick,n=e.disabled,o=e.isLoading,i=e.children,a=e.className;return(0,r.jsx)("button",{className:"flex align-center justify-center ".concat(a),disabled:n||o,onClick:function(){t&&t()},children:o?(0,r.jsx)("div",{className:"spinner-border",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):i})}},6373:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(1413),o=n(4165),i=n(5861),a=n(885),l=n(2791),s=n(1734),c=n(4503),u=n(2598),d=n(1134),p=n(6375),v=n(3516),f=n(3329),h=function(e){var t=e.onRate,n=e.initialRating,r=void 0===n?0:n,o=(0,l.useState)(r),i=(0,a.Z)(o,2),s=i[0],c=i[1];(0,l.useEffect)((function(){return c(r)}),[r]);return(0,f.jsx)(p.i,{onClick:function(e){c(e),t(e)},allowFraction:!0,fillColor:v.g.PURPLE_ONE,initialValue:s,readonly:!!r})},m=n(7480),y=n(7406),g=n(7265),x={query:function(){return w.apply(this,arguments)},create:function(e){return k.apply(this,arguments)}};function w(){return w=(0,i.Z)((0,o.Z)().mark((function e(){var t,n,r=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.next=4,g.Rc.get(y.Hd.default,t);case 4:if("ok"!==(n=e.sent).status){e.next=9;break}return e.abrupt("return",n.content);case 9:return e.abrupt("return",new Error(n.message));case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),w.apply(this,arguments)}function k(){return(k=(0,i.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Rc.post(y.Hd.create,t);case 3:if("ok"!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.content);case 8:return e.abrupt("return",new Error(n.message));case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var _=n(7689),b=n(8155),C=n(9434),N=function(){var e=(0,C.v9)((function(e){return e.user})).currentUser,t=(0,l.useState)(null),n=(0,a.Z)(t,2),p=n[0],v=n[1],y=(0,l.useState)(),g=(0,a.Z)(y,2),w=g[0],k=g[1],N=(0,d.cI)(),j=N.register,S=N.handleSubmit,V=N.setValue,Z=(0,_.UO)().id,I=(0,_.s0)();(0,l.useEffect)((function(){M()}),[]);var M=function(){var t=(0,i.Z)((0,o.Z)().mark((function t(){var n;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.query({contactId:Z,userId:e._id});case 3:(n=t.sent).length&&v(n[0]),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),m.Z.error("Something went wrong",{position:"top-center"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),G=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,x.create((0,r.Z)((0,r.Z)({},t),{},{contactId:Z}));case 4:m.Z.success("We got your feedback",{position:"top-center"}),I(b.T.CONTACT_URL+Z),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m.Z.error("Error",{position:"top-center"});case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:"body-wrapper backgrounds__white-top space-pb--120",children:[(0,f.jsx)(s.aG,{pageTitle:u.j.CONTACT_FEEDBACK}),(0,f.jsxs)("form",{className:"container",onSubmit:S(G),children:[(0,f.jsx)("h6",{className:"text-al__center space-y--30",children:"How would you rate your experience with the contact?"}),(0,f.jsx)("div",{className:"flex justify-center space-mb--30",children:(0,f.jsx)(h,{onRate:function(e){V("rating",e)},initialRating:null===p||void 0===p?void 0:p.rating})}),(0,f.jsxs)("div",{className:"input-container",children:[(0,f.jsx)("label",{htmlFor:"message",className:"input-container__label",children:"Add Text"}),(0,f.jsx)("textarea",(0,r.Z)({id:"message",className:"input",rows:"4",cols:"50",defaultValue:null===p||void 0===p?void 0:p.comment,disabled:!!p,required:!0},j("comment")))]}),!p&&(0,f.jsx)(c.Z,{className:"button space-mt--30 __h-50",isLoading:w,children:u.j.SEND})]})]})}},6375:function(e,t,n){var r=n(3329),o=n(2791),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function l(e){var t=e.size,n=void 0===t?25:t,o=e.SVGstrokeColor,a=void 0===o?"currentColor":o,l=e.SVGstorkeWidth,s=void 0===l?0:l,c=e.SVGclassName,u=void 0===c?"star-svg":c,d=e.SVGstyle;return r.jsx("svg",i({className:u,style:d,stroke:a,fill:"currentColor",strokeWidth:s,viewBox:"0 0 24 24",width:n,height:n,xmlns:"http://www.w3.org/2000/svg"},{children:r.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function s(e,t){switch(t.type){case"PointerMove":return i(i({},e),{hoverValue:t.payload,hoverIndex:t.index});case"PointerLeave":return i(i({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return i(i({},e),{valueIndex:e.hoverIndex,ratingValue:t.payload});default:return e}}function c(){return"undefined"!=typeof window&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||"undefined"!=typeof navigator&&navigator.maxTouchPoints>0}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),t.i=function(e){var t,n,u=e.onClick,d=e.onPointerMove,p=e.onPointerEnter,v=e.onPointerLeave,f=e.initialValue,h=void 0===f?0:f,m=e.iconsCount,y=void 0===m?5:m,g=e.size,x=void 0===g?40:g,w=e.readonly,k=void 0!==w&&w,_=e.rtl,b=void 0!==_&&_,C=e.customIcons,N=void 0===C?[]:C,j=e.allowFraction,S=void 0!==j&&j,V=e.style,Z=e.className,I=void 0===Z?"react-simple-star-rating":Z,M=e.transition,G=void 0!==M&&M,E=e.allowHover,R=void 0===E||E,T=e.disableFillHover,A=void 0!==T&&T,L=e.fillIcon,P=void 0===L?null:L,W=e.fillColor,F=void 0===W?"#ffbc0b":W,B=e.fillColorArray,O=void 0===B?[]:B,z=e.fillStyle,U=e.fillClassName,q=void 0===U?"filled-icons":U,H=e.emptyIcon,D=void 0===H?null:H,K=e.emptyColor,J=void 0===K?"#cccccc":K,X=e.emptyStyle,Y=e.emptyClassName,Q=void 0===Y?"empty-icons":Y,$=e.allowTitleTag,ee=void 0===$||$,te=e.showTooltip,ne=void 0!==te&&te,re=e.tooltipDefaultText,oe=void 0===re?"Your Rate":re,ie=e.tooltipArray,ae=void 0===ie?[]:ie,le=e.tooltipStyle,se=e.tooltipClassName,ce=void 0===se?"react-simple-star-rating-tooltip":se,ue=e.SVGclassName,de=void 0===ue?"star-svg":ue,pe=e.titleSeparator,ve=void 0===pe?"out of":pe,fe=e.SVGstyle,he=e.SVGstorkeWidth,me=void 0===he?0:he,ye=e.SVGstrokeColor,ge=void 0===ye?"currentColor":ye,xe=o.useReducer(s,{hoverIndex:0,valueIndex:0,ratingValue:h,hoverValue:null}),we=xe[0],ke=we.ratingValue,_e=we.hoverValue,be=we.hoverIndex,Ce=we.valueIndex,Ne=xe[1];o.useEffect((function(){h&&Ne({type:"MouseClick",payload:0})}),[h]);var je=o.useMemo((function(){return S?2*y:y}),[S,y]),Se=o.useMemo((function(){return h>je?0:S||Math.floor(h)===h?Math.round(h/y*100):2*Math.ceil(h)*10}),[S,h,y,je]),Ve=o.useMemo((function(){return(S?2*h-1:h-1)||0}),[S,h]),Ze=o.useCallback((function(e){return y%2!=0?e/2/10:e*y/100}),[y]),Ie=function(e){for(var t=e.clientX,n=e.currentTarget.children[0].getBoundingClientRect(),r=n.left,o=n.right,i=n.width,a=b?o-t:t-r,l=je,s=Math.round(i/je),c=0;c<=je;c+=1)if(a<=s*c){l=0===c&&a<s?0:c;break}var u=l-1;l>0&&(Ne({type:"PointerMove",payload:100*l/je,index:u}),d&&_e&&d(Ze(_e),u,e))},Me=function(e){_e&&(Ne({type:"MouseClick",payload:_e}),u&&u(Ze(_e),be,e))},Ge=o.useMemo((function(){if(R){if(A){var e=ke&&ke||Se;return _e&&_e>e?_e:e}return _e&&_e||ke&&ke||Se}return ke&&ke||Se}),[R,A,_e,ke,Se]);o.useEffect((function(){ae.length>je&&console.error("tooltipArray Array length is bigger then Icons Count length.")}),[ae.length,je]);var Ee=o.useCallback((function(e){return _e&&e[be]||ke&&e[Ce]||h&&e[Ve]}),[_e,be,ke,Ce,h,Ve]),Re=o.useMemo((function(){return _e&&Ze(_e)||ke&&Ze(ke)||h&&Ze(Se)}),[_e,Ze,ke,h,Se]);return r.jsxs("span",i({className:"style-module_starRatingWrap__q-lJC",style:{direction:"".concat(b?"rtl":"ltr")}},{children:[r.jsxs("span",i({className:"".concat("style-module_simpleStarRating__nWUxf"," ").concat(I),style:i({cursor:k?"":"pointer"},V),onPointerMove:k?void 0:Ie,onPointerEnter:k?void 0:function(e){p&&p(e),c()&&Ie(e)},onPointerLeave:k?void 0:function(e){c()&&Me(),Ne({type:"PointerLeave"}),v&&v(e)},onClick:k?void 0:Me,"aria-hidden":"true"},{children:[r.jsx("span",i({className:"".concat("style-module_emptyIcons__Bg-FZ"," ").concat(Q),style:i({color:J},X)},{children:a([],Array(y),!0).map((function(e,t){var n;return r.jsx(o.Fragment,{children:(null===(n=N[t])||void 0===n?void 0:n.icon)||D||r.jsx(l,{SVGclassName:de,SVGstyle:fe,SVGstorkeWidth:me,SVGstrokeColor:ge,size:x})},t)}))})),r.jsx("span",i({className:"".concat("style-module_fillIcons__6---A"," ").concat(q),style:i((t={},t[b?"right":"left"]=0,t.color=Ee(O)||F,t.transition=G?"width .2s ease, color .2s ease":"",t.width="".concat(Ge,"%"),t),z),title:ee?"".concat(Re," ").concat(ve," ").concat(y):void 0},{children:a([],Array(y),!0).map((function(e,t){var n;return r.jsx(o.Fragment,{children:(null===(n=N[t])||void 0===n?void 0:n.icon)||P||r.jsx(l,{SVGclassName:de,SVGstyle:fe,SVGstorkeWidth:me,SVGstrokeColor:ge,size:x})},t)}))}))]})),ne&&r.jsx("span",i({className:"".concat("style-module_tooltip__tKc3i"," ").concat(ce),style:i((n={},n[b?"marginRight":"marginLeft"]=20,n),le)},{children:(ae.length>0?Ee(ae):Re)||oe}))]}))}}}]);
//# sourceMappingURL=373.d66485e7.chunk.js.map